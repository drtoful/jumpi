{% extends "base.xhtml" %}

{% block script %}
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Sans+Mono">
    <link href="{{ url_for('static', filename="terminal.css") }}" rel="stylesheet" />
    <script type="text/javascript" src="{{ url_for('static', filename="terminal.js") }}"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("#terminal").hide();
        });
    </script>
{% endblock %}

{% block content %}
<div class="panel panel-default">
    <div class="panel-heading">
        <strong>Recordings for &quot;{{ user.fullname }}&quot;</strong>
    </div>
    <div class="panel-body">
        <p><small>This is a list of all SSH sessions for which a recording exists
        for the user. You can replay every recording in the browser or download
        a ttyrec file.</small></p>
    </div>

    <div class="list-group">
{% for rec in user.recordings %}
        <div class="list-group-item target-link">
            <span class="fa-stack">
                <i class="fa fa-square fa-stack-2x"></i>
                <i class="fa fa-terminal fa-stack-1x fa-inverse"></i>
            </span>&nbsp;&nbsp;
            <strong>{{ rec.time }}</strong>&nbsp;
            <em>(Session: {{ rec.session_id }})</em>

            <button type="button" player-width="{{ rec.width }}" player-height="{{ rec.height }}" player-duration="{{ rec.duration }}" player-session="{{ rec.session_id }}" class="btn btn-xs btn-primary pull-right"><span class="fa fa-play"></span>&nbsp;&nbsp;play</button>
        </div>
{% endfor %}
    </div>
</div>

<div id="terminal" class="terminal-container"></div>

{% endblock %}
